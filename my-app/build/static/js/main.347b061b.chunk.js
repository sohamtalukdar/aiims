(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(6),c=a.n(r),o=(a(15),a(3)),i=a(2);a(16);var u=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),c=Object(i.o)();return l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"gradient-bg"}),"  ",l.a.createElement("div",{className:"container"},l.a.createElement("h1",null,"Enter Your Name and Age"),l.a.createElement("form",{onSubmit:t=>{t.preventDefault(),c("/upload",{state:{name:e,age:a}})}},l.a.createElement("input",{type:"text",placeholder:"Enter your name",value:e,onChange:e=>t(e.target.value),required:!0}),l.a.createElement("input",{type:"number",placeholder:"Enter your age",value:a,onChange:e=>r(e.target.value),required:!0}),l.a.createElement("button",{type:"submit"},"Next"))))};var s=function(){const{state:e}=Object(i.m)(),[t,a]=Object(n.useState)(0),[r,c]=Object(n.useState)(null),[o,u]=Object(n.useState)(!1),[s,d]=Object(n.useState)(""),m=Object(n.useRef)(null),p=[{id:0,title:"Block 1",paragraph:"This is the paragraph for block 1."},{id:1,title:"Block 2",paragraph:"This is the paragraph for block 2."},{id:2,title:"Block 3",paragraph:"This is the paragraph for block 3."}],E=()=>{o?(m.current.stop(),u(!1)):navigator.mediaDevices.getUserMedia({audio:!0}).then(e=>{const t=new MediaRecorder(e);m.current=t,t.start(),u(!0);let a=[];t.addEventListener("dataavailable",e=>{a.push(e.data)}),t.addEventListener("stop",()=>{const e=new Blob(a,{type:"audio/mpeg"}),t=new File([e],"audio.mp3",{type:"audio/mpeg"});c(t),d(URL.createObjectURL(e)),u(!1)})})};return l.a.createElement("div",{className:"app"},l.a.createElement("div",{className:"gradient-bg"}),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"left-sidebar"},l.a.createElement("h2",null,"Select a Block"),p.map(e=>l.a.createElement("div",{key:e.id,className:`block ${t===e.id?"selected":""}`,onClick:()=>(e=>{a(e)})(e.id)},e.title))),l.a.createElement("div",{className:"content"},l.a.createElement("h1",null,p[t].title),l.a.createElement("p",null,p[t].paragraph),l.a.createElement("div",{className:"audio-controls"},s?l.a.createElement(l.a.Fragment,null,l.a.createElement("audio",{src:s,controls:!0}),l.a.createElement("button",{onClick:()=>{c(null),d(""),E()}},"Re-record")):l.a.createElement("button",{onClick:E},o?"Stop Recording":"Record Voice")),l.a.createElement("form",{onSubmit:async t=>{t.preventDefault();const a=new FormData;a.append("name",e.name),a.append("age",e.age),a.append("audio",r);const n=await fetch("http://localhost:8000/upload/",{method:"POST",body:a}),l=await n.json();console.log(l),alert(`Uploaded successfully: Audio URL: ${l.audio_url}`)}},l.a.createElement("button",{type:"submit",disabled:!r},"Upload")))))};var d=function(){return l.a.createElement(o.a,null,l.a.createElement(i.c,null,l.a.createElement(i.a,{path:"/",element:l.a.createElement(u,null)}),l.a.createElement(i.a,{path:"/upload",element:l.a.createElement(s,null)})))};var m=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,18)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(d,null))),m()},7:function(e,t,a){e.exports=a(17)}},[[7,1,2]]]);
//# sourceMappingURL=main.347b061b.chunk.js.map